/*

SINTAXIS:

TYPE nuevo_tipo_dato IS TABLE OF
{
		column_type 
		| variable%TYPE 
		| table.column%TYPE} [NOT NULL]
		| table%ROWTYPE
}
INDEX BY {PLS_INTEGER|BINARY_INTEGER|VARCHAR2(<tamaño>);

*/


-- ARRAYAS ASOCIATIVOS

-- EJEMPLO 1

DECLARE
	TYPE ARRAY_NOTAS IS TABLE OF NUMBER 
	INDEX BY BINARY_INTEGER;
	NOTAS ARRAY_NOTAS;
BEGIN
	-- CARGAR NOTAS
	NOTAS(1) := 20;
	NOTAS(2) := 18;
	NOTAS(3) := 15;
	NOTAS(4) := 17;
	-- MOSTRAR NOTAS
	FOR I IN 1..NOTAS.COUNT LOOP
		DBMS_OUTPUT.PUT_LINE('NOTA ' || I || ': ' || NOTAS(I));
	END LOOP;
END;


-- EJEMPLO 2

DECLARE
	-- Definimos los tipo de datos
	TYPE ARRAY_EMPLEADOS IS TABLE OF HR.EMPLOYEES%ROWTYPE
	INDEX BY BINARY_INTEGER;
	-- Definiendo las variables
	V_EMPLEADOS ARRAY_EMPLEADOS;
BEGIN
	DBMS_OUTPUT.PUT_LINE('TAMAÑO INICIAL: ' || V_EMPLEADOS.COUNT);
	FOR REC IN (SELECT * FROM HR.EMPLOYEES) LOOP
		V_EMPLEADOS(V_EMPLEADOS.COUNT + 1) := REC;
	END LOOP;
	DBMS_OUTPUT.PUT_LINE('TAMAÑO FINAL: ' || V_EMPLEADOS.COUNT);
	FOR I IN V_EMPLEADOS.FIRST..V_EMPLEADOS.LAST LOOP
		DBMS_OUTPUT.PUT_LINE( I || '.- ' || V_EMPLEADOS(I).FIRST_NAME);
	END LOOP;
END;



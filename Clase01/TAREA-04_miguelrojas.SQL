CREATE OR REPLACE FUNCTION RECURSOS.FN_INGRESO_TOTAL
(
    P_CODIGO IN RECURSOS.EMPLEADO.IDEMPLEADO%TYPE
) RETURN NUMBER
AS
    V_CONTA NUMBER(5);
    V_SUELDO_TOTAL NUMBER(5) := 0;
BEGIN

    SELECT COUNT(1) INTO V_CONTA
    FROM RECURSOS.EMPLEADO
    WHERE IDEMPLEADO = P_CODIGO;
    
    IF(V_CONTA = 1) THEN 
        SELECT NVL(SUELDO,0) + NVL(COMISION,0) 
        INTO V_SUELDO_TOTAL 
        FROM RECURSOS.EMPLEADO 
        WHERE IDEMPLEADO = P_CODIGO;
    END IF;
    
    RETURN V_SUELDO_TOTAL;
END;


SELECT RECURSOS.FN_INGRESO_TOTAL('E0012') FROM DUAL;



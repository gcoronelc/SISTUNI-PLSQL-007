CREATE OR REPLACE PROCEDURE RECURSOS.SP_TAREA4
( P_IDEMPLEADO EMPLEADO.IDEMPLEADO%type, P_VALOR1 OUT NUMBER)
AS
	V_COUNT NUMBER := 0;
	V_SUELDO EMPLEADO.SUELDO%type;
	V_COMISION EMPLEADO.COMISION%type;
BEGIN
	SELECT count(1) INTO V_COUNT FROM EMPLEADO WHERE IDEMPLEADO = P_IDEMPLEADO;
	IF V_COUNT = 1 THEN
		SELECT NVL(SUELDO,0) INTO V_SUELDO FROM EMPLEADO WHERE IDEMPLEADO = P_IDEMPLEADO;
		SELECT NVL(COMISION,0) INTO V_COMISION FROM EMPLEADO WHERE IDEMPLEADO = P_IDEMPLEADO;
		P_VALOR1 := V_SUELDO + V_COMISION;
	ELSE
		P_VALOR1 := -1;  
	END IF;
END;

DECLARE 
  V_VALOR1 number;
BEGIN
  RECURSOS.SP_TAREA4 ('E0001', V_VALOR1);
  DBMS_OUTPUT.PUT_LINE('1: ' || V_VALOR1);
END;
